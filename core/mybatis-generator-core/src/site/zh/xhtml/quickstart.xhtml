<?xml version="1.0" encoding="UTF-8"?>
<!--

       Copyright 2006-2020 the original author or authors.

       Licensed under the Apache License, Version 2.0 (the "License");
       you may not use this file except in compliance with the License.
       You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

       Unless required by applicable law or agreed to in writing, software
       distributed under the License is distributed on an "AS IS" BASIS,
       WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       See the License for the specific language governing permissions and
       limitations under the License.

-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>MyBatis Generator 快速入门指南</title>
  <link rel="stylesheet" type="text/css" href="mbgstyle.css" />
</head>
<body>
<h1>MyBatis Generator 快速入门指南</h1>
<p>MyBatis Generator（MBG）根据其配置方式生成不同样式的代码。这可以通过在<code>&lt;context&gt;</code>配置元素上指定 <code>targetRuntime</code> 属性来控制。下表总结了不同的选项。</p>

<p>要使用 MyBatis 生成器（MBG）快速启动并运行，请执行以下步骤：</p>
<ol>
  <li>适当地创建并填写配置文件（有关示例，请参见下文）</li>
  <li>将文件保存在一些适当的位置（如 \temp\generatorConfig.xml）</li>
  <li>使用以下命令从命令行运行 MBG：
    <pre>

      java -jar mybatis-generator-core-x.x.x.jar -configfile \temp\generatorConfig.xml -overwrite
    </pre>
    <p>这将使 MBG 使用配置文件运行。它还将使 MBG 覆盖任何具有相同名称的现有 Java 或 Kotlin 文件。如果要保存任何现有文件，请省略 <code>-overwrite</code> 参数。如果存在冲突，MBG 将使用唯一名称保存新生成的文件（例如 MyClass.java.1）。</p>
  </li>
  <li>运行 MBG 后，您需要使用新生成的代码创建或修改标准 MyBatis 配置。请参见<a href="afterRunning.html">运行 MyBatis Generator 以后</a>页面</li>
</ol>

<h2>目标运行环境信息和示例</h2>
<table border="1" cellspacing="0" cellpadding="5">
  <tr>
    <th>目标运行环境</th>
    <th>注释</th>
    <th>配置示例</th>
  </tr>
  <tr>
    <td valign="top">MyBatis3DynamicSql</td>
    <td><i>这是默认值</i>
      <ul>
        <li>生成 Java 代码</li>
        <li>不生成 XML——使用 MyBatis 3 注解</li>
        <li>生成的模型对象是“平面”的——没有单独的主键对象</li>
        <li>生成的代码依赖于 MyBatis 动态 SQL 库</li>
        <li>生成的代码量相对较少</li>
        <li>生成的代码在查询结构中具有巨大的灵活性</li>
      </ul>
    </td>
    <td><a href="#MyBatis3DynamicSql">配置示例</a></td>
  </tr>
  <tr>
    <td valign="top">MyBatis3Kotlin</td>
    <td>
      <ul>
        <li>生成 Kotlin 代码</li>
        <li>不生成 XML——使用 MyBatis 3 注解</li>
        <li>生成的模型对象是“平面”的——没有单独的主键对象</li>
        <li>生成的代码依赖于 MyBatis 动态 SQL 库</li>
        <li>生成的代码量相对较少</li>
        <li>生成的代码在查询结构中具有巨大的灵活性</li>
      </ul>
    </td>
    <td><a href="#MyBatis3Kotlin">配置示例</a></td>
  </tr>
  <tr>
    <td valign="top">MyBatis3</td>
    <td>这是原始的运行环境。在 MBG 1.3.6 版本之前，MBG 的大多数用法都使用了这种风格的代码。
      <ul>
        <li>生成 Java 代码</li>
        <li>生成 MyBatis3 兼容的 XML 和 SQL 或 MyBatis3 兼容的注解接口，而不使用 XML</li>
        <li>生成的模型对象可以具有单独主键对象，具有 BLOB 字段的单独对象的层次结构</li>
        <li>生成的代码没有外部依赖关系</li>
        <li>生成的代码量非常大</li>
        <li>生成的代码对于查询结构的能力有限，难以扩展</li>
      </ul>
    </td>
    <td><a href="#MyBatis3">配置示例</a></td>
  </tr>
  <tr>
    <td valign="top">MyBatis3Simple</td>
    <td>这是 MyBatis3 运行环境的简化版本。
      <ul>
        <li>生成 Java 代码</li>
        <li>生成 MyBatis 3 兼容的 XML 和 SQL 或 MyBatis 3 兼容的注解接口，而不使用 XML</li>
        <li>生成的模型对象是“平面”的——没有单独的主键对象</li>
        <li>生成的代码没有外部依赖关系</li>
        <li>The amount of generated code is relatively small</li>
        <li>No "by example" or "selective" methods are generated</li>
        <li>The generated code does not include methods for dynamic query construction and is difficult to extend</li>
      </ul>
    </td>
    <td><a href="#MyBatis3Simple">Sample Configuration</a></td>
  </tr>
</table>

<a name="MyBatis3DynamicSql"/>
<h3>Sample Configuration for MyBatis3DynamicSql</h3>
<pre>
&lt;!DOCTYPE generatorConfiguration PUBLIC
 "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
 "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;
&lt;generatorConfiguration&gt;
  &lt;context id="dsql" targetRuntime="MyBatis3DynamicSql"&gt;
    &lt;jdbcConnection driverClass="org.hsqldb.jdbcDriver"
        connectionURL="jdbc:hsqldb:mem:aname" /&gt;

    &lt;javaModelGenerator targetPackage="example.model" targetProject="src/main/java"/&gt;

    &lt;javaClientGenerator targetPackage="example.mapper" targetProject="src/main/java"/&gt;

    &lt;table tableName="FooTable" /&gt;
  &lt;/context&gt;
&lt;/generatorConfiguration&gt;
</pre>

<a name="MyBatis3Kotlin"/>
<h3>Sample Configuration for MyBatis3Kotlin</h3>
<pre>
&lt;!DOCTYPE generatorConfiguration PUBLIC
 "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
 "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;
&lt;generatorConfiguration&gt;
  &lt;context id="kotlin" targetRuntime="MyBatis3Kotlin"&gt;
    &lt;jdbcConnection driverClass="org.hsqldb.jdbcDriver"
        connectionURL="jdbc:hsqldb:mem:aname" /&gt;

    &lt;javaModelGenerator targetPackage="example.model" targetProject="src/main/kotlin"/&gt;

    &lt;javaClientGenerator targetPackage="example.mapper" targetProject="src/main/kotlin"/&gt;

    &lt;table tableName="FooTable" /&gt;
  &lt;/context&gt;
&lt;/generatorConfiguration&gt;
</pre>

<a name="MyBatis3"/>
<h3>Sample Configuration for MyBatis3</h3>
<pre>
&lt;!DOCTYPE generatorConfiguration PUBLIC
 "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
 "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;
&lt;generatorConfiguration&gt;
  &lt;context id="simple" targetRuntime="MyBatis3"&gt;
    &lt;jdbcConnection driverClass="org.hsqldb.jdbcDriver"
        connectionURL="jdbc:hsqldb:mem:aname" /&gt;

    &lt;javaModelGenerator targetPackage="example.model" targetProject="src/main/java"/&gt;

    &lt;sqlMapGenerator targetPackage="example.mapper" targetProject="src/main/resources"/&gt;

    &lt;javaClientGenerator type="XMLMAPPER" targetPackage="example.mapper" targetProject="src/main/java"/&gt;

    &lt;table tableName="FooTable" /&gt;
  &lt;/context&gt;
&lt;/generatorConfiguration&gt;
</pre>

<a name="MyBatis3Simple"/>
<h3>Sample Configuration for MyBatis3Simple</h3>
<pre>
&lt;!DOCTYPE generatorConfiguration PUBLIC
 "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
 "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;
&lt;generatorConfiguration&gt;
  &lt;context id="simple" targetRuntime="MyBatis3Simple"&gt;
    &lt;jdbcConnection driverClass="org.hsqldb.jdbcDriver"
        connectionURL="jdbc:hsqldb:mem:aname" /&gt;

    &lt;javaModelGenerator targetPackage="example.model" targetProject="src/main/java"/&gt;

    &lt;javaClientGenerator type="ANNOTATEDMAPPER" targetPackage="example.mapper" targetProject="src/main/java"/&gt;

    &lt;table tableName="FooTable" /&gt;
  &lt;/context&gt;
&lt;/generatorConfiguration&gt;
</pre>


</body>
</html>
